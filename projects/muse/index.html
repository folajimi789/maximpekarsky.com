<!DOCTYPE html>

<HTML>
    <HEAD> 
        <TITLE>Maxim Pekarsky</TITLE>

        <!--  Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Exo+2:300,500,700" rel="stylesheet">

        <!-- Browser icon -->
        <link rel="icon" href="assets/icon.png" />

        <!-- Font awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        
        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="stylesheet.css"></style>

    </HEAD>


    <BODY>

        <div id = "background-overlay">

            <div id="main-app" :class="[ (timeStillRemaining) ? '' : 'time-out-body' ]">
                <h1 :class="{'little-heading': quizStarted}">MUSE Quiz</h1>

                <div id="intro-screen" v-if="!quizStarted">
                    <p>How many Muse songs can you correctly guess in 2 minutes?</p>

                    <div id="difficulty-button-section">
                        <button @click="selectRegularSongs()">Regular</button>
                        <button @click="selectHardSongs()">Hard</button>
                    </div>

                    <div class = "label">Click to select albums</div>
                    <div id="album-selection">
                        
                        <span v-for="album in albums"  :class="{'selected-album': albums[album.name].on}" @click="selectAlbum(album.name)">{{ album.name}}</span>

                    </div>

                    <button class="bottom-button primary" @click="startQuiz">Start Quiz</button>

                </div>

                <div id="quiz" v-if="quizStarted">

                    <div id="countdown" >
                        <span id="time-left" :class="[ (timeLeft <= 10) ? 'out-of-time': '']" >0:{{ timeLeft }}</span>
                        <span class="progress-counter" v-if="timeStillRemaining">

                            <span class = "correct-so-far"><i class="fas fa-check"></i> {{ correctGuesses }} </span> / {{ completedGuesses }}
                        </span>
                    </div>

                    <div id="lyrics" v-html="currentSong.lyrics" v-if="currentSong != null && timeStillRemaining">
                        
                    </div>

                    
                        
                    <div id="answer-choices" v-if="timeStillRemaining" >
                        <span v-if="currentSong != null">
                            <div class="option" :class="{'correct': songIsCorrect(choice), 'incorrect': songIsIncorrect(choice)}" v-for="choice in currentSong.choices" @click="submitChoice(choice)">
                                <span class="guess-number">{{ currentSong.choices.indexOf(choice) + 1 }}</span>
                                <span class ="guess-selector" :id="optionId(currentSong.choices.indexOf(choice) + 1)">{{ choice }}</span>
                                <span class ="guess-icon" :class="{'fas fa-check': songIsCorrect(choice)}"></span>
                            </div>
                        </span>
                    </div>

                </div>

                <div id="final-score" v-if="!timeStillRemaining">
                    <div><span>Songs guessed:</span> <span>{{ completedGuesses }}</span></div>
                    <div><span>Correct guesses:</span> <span>{{ correctGuesses }}</span></div>
                    <div><span>Accuracy:</span> <span>{{ getAccuracy }}%</span></div>

                    <button class="bottom-button primary" @click="playAgain">Play Again</button>
                </div>

                    
            
                <div id = "footer-section">
                    <p>Made with <i class="far fa-smile"></i> by <a href = "http://maximpekarsky.com" target = "_blank">Max</a></p>
                </div>
            </div>

        </div>

        <!-- Front-end JS -->        

        <script src="assets/vue.js"></script> 

        

        <script src="script.js"></script>

    </BODY>
</HTML>